#!/usr/bin/env bash

TIME="${1:-10}" # default to 10 seconds

TMP_FILE=$(mktemp -u /sdcard/Movies/screenrecord_XXXX.mp4)
adb shell screenrecord --time-limit "${TIME}" --verbose "${TMP_FILE}"
adb pull $TMP_FILE .
adb shell rm "${TMP_FILE}"

echo
echo Saved screen recording to: $(basename "${TMP_FILE}")
