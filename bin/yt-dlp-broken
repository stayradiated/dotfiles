#!/bin/zsh

# Set the URL for the latest yt-dlp release
YT_DLP_URL="https://github.com/yt-dlp/yt-dlp/releases/latest/download/yt-dlp_linux"

# Set the path to the yt-dlp binary
YT_DLP_BIN=~/.cache/yt-dlp

# Check if the yt-dlp binary exists
if [ ! -f $YT_DLP_BIN ]
then
    # If it doesn't exist, create the directory for it
    mkdir -p ~/.cache

    # Download the binary from the latest release
    wget $YT_DLP_URL -O $YT_DLP_BIN

    # Make the binary executable
    chmod +x $YT_DLP_BIN
fi

# Call yt-dlp with the provided arguments
$YT_DLP_BIN $@
